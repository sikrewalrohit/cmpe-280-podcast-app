{"ast":null,"code":"import axios from \"@/config/axios\";\n\nclass DiscoverService {\n  async getPopular() {\n    let limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 7;\n    const response = await axios.get(`/api/popular?limit=${limit}`);\n    return response.data.results;\n  }\n\n  async search(searchTerm) {\n    const term = searchTerm.trim();\n\n    if (!term) {\n      return;\n    }\n\n    const response = await axios.get(`/api/search/?term=${encodeURIComponent(term)}`);\n\n    if (!response.data.results.length) {\n      throw new Error(\"No search results found.\");\n    } else {\n      return response.data.results;\n    }\n  }\n\n  async subscribeFromFeed(feedUrl) {\n    if (!isURL(feedUrl)) {\n      throw new Error(\"Please enter a valid URL\");\n    }\n\n    try {\n      return await axios.post(`/api/subscriptions`, {\n        feedUrl\n      });\n    } catch (err) {\n      var _err$response, _err$response$data;\n\n      if ((_err$response = err.response) !== null && _err$response !== void 0 && (_err$response$data = _err$response.data) !== null && _err$response$data !== void 0 && _err$response$data.msg) {\n        throw new Error(err.response.data.msg);\n      } else {\n        throw new Error(\"Unable to subscribe to that feed\");\n      }\n    }\n  }\n\n}\n\nfunction isURL(str) {\n  try {\n    new URL(str);\n  } catch (_) {\n    return false;\n  }\n\n  return true;\n}\n\nexport default new DiscoverService();","map":{"version":3,"names":["axios","DiscoverService","getPopular","limit","response","get","data","results","search","searchTerm","term","trim","encodeURIComponent","length","Error","subscribeFromFeed","feedUrl","isURL","post","err","msg","str","URL","_"],"sources":["/Users/rohitsikrewal/Desktop/cmpe-280-podcast-app/src/services/discoverService.js"],"sourcesContent":["import axios from \"@/config/axios\";\n\nclass DiscoverService {\n  async getPopular(limit = 7) {\n    const response = await axios.get(`/api/popular?limit=${limit}`);\n    return response.data.results;\n  }\n\n  async search(searchTerm) {\n    const term = searchTerm.trim();\n\n    if (!term) {\n      return;\n    }\n\n    const response = await axios.get(`/api/search/?term=${encodeURIComponent(term)}`);\n\n    if (!response.data.results.length) {\n      throw new Error(\"No search results found.\");\n    } else {\n      return response.data.results;\n    }\n  }\n\n  async subscribeFromFeed(feedUrl) {\n    if (!isURL(feedUrl)) {\n      throw new Error(\"Please enter a valid URL\");\n    }\n\n    try {\n      return await axios.post(`/api/subscriptions`, {\n        feedUrl,\n      });\n    } catch (err) {\n      if (err.response?.data?.msg) {\n        throw new Error(err.response.data.msg);\n      } else {\n        throw new Error(\"Unable to subscribe to that feed\");\n      }\n    }\n  }\n}\n\nfunction isURL(str) {\n  try {\n    new URL(str);\n  } catch (_) {\n    return false;\n  }\n\n  return true;\n}\n\nexport default new DiscoverService();\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,gBAAlB;;AAEA,MAAMC,eAAN,CAAsB;EACJ,MAAVC,UAAU,GAAY;IAAA,IAAXC,KAAW,uEAAH,CAAG;IAC1B,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAN,CAAW,sBAAqBF,KAAM,EAAtC,CAAvB;IACA,OAAOC,QAAQ,CAACE,IAAT,CAAcC,OAArB;EACD;;EAEW,MAANC,MAAM,CAACC,UAAD,EAAa;IACvB,MAAMC,IAAI,GAAGD,UAAU,CAACE,IAAX,EAAb;;IAEA,IAAI,CAACD,IAAL,EAAW;MACT;IACD;;IAED,MAAMN,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAN,CAAW,qBAAoBO,kBAAkB,CAACF,IAAD,CAAO,EAAxD,CAAvB;;IAEA,IAAI,CAACN,QAAQ,CAACE,IAAT,CAAcC,OAAd,CAAsBM,MAA3B,EAAmC;MACjC,MAAM,IAAIC,KAAJ,CAAU,0BAAV,CAAN;IACD,CAFD,MAEO;MACL,OAAOV,QAAQ,CAACE,IAAT,CAAcC,OAArB;IACD;EACF;;EAEsB,MAAjBQ,iBAAiB,CAACC,OAAD,EAAU;IAC/B,IAAI,CAACC,KAAK,CAACD,OAAD,CAAV,EAAqB;MACnB,MAAM,IAAIF,KAAJ,CAAU,0BAAV,CAAN;IACD;;IAED,IAAI;MACF,OAAO,MAAMd,KAAK,CAACkB,IAAN,CAAY,oBAAZ,EAAiC;QAC5CF;MAD4C,CAAjC,CAAb;IAGD,CAJD,CAIE,OAAOG,GAAP,EAAY;MAAA;;MACZ,qBAAIA,GAAG,CAACf,QAAR,gEAAI,cAAcE,IAAlB,+CAAI,mBAAoBc,GAAxB,EAA6B;QAC3B,MAAM,IAAIN,KAAJ,CAAUK,GAAG,CAACf,QAAJ,CAAaE,IAAb,CAAkBc,GAA5B,CAAN;MACD,CAFD,MAEO;QACL,MAAM,IAAIN,KAAJ,CAAU,kCAAV,CAAN;MACD;IACF;EACF;;AAtCmB;;AAyCtB,SAASG,KAAT,CAAeI,GAAf,EAAoB;EAClB,IAAI;IACF,IAAIC,GAAJ,CAAQD,GAAR;EACD,CAFD,CAEE,OAAOE,CAAP,EAAU;IACV,OAAO,KAAP;EACD;;EAED,OAAO,IAAP;AACD;;AAED,eAAe,IAAItB,eAAJ,EAAf"},"metadata":{},"sourceType":"module"}