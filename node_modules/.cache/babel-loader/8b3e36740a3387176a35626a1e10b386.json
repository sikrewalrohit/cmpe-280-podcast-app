{"ast":null,"code":"var _jsxFileName = \"/Users/rohitsikrewal/Desktop/cmpe-280-podcast-app/src/components/Profile/AuthDialog.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Button from \"@mui/material/Button\";\nimport TextField from \"@mui/material/TextField\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogContentText from \"@mui/material/DialogContentText\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport PasswordInput from \"@/components/Auth/PasswordInput\";\nimport { useAuth, useForm } from \"@/hooks\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const dialogTypes = {\n  CHANGE_EMAIL: \"CHANGE_EMAIL\",\n  CHANGE_PASSWORD: \"CHANGE_PASSWORD\",\n  CLOSE_ACCOUNT: \"CLOSE_ACCOUNT\"\n};\n\nfunction AuthDialog(_ref) {\n  _s();\n\n  let {\n    type,\n    title,\n    message,\n    open,\n    onSubmit,\n    onCancel,\n    ...props\n  } = _ref;\n  const changeEmail = type === dialogTypes.CHANGE_EMAIL;\n  const changePassword = type === dialogTypes.CHANGE_PASSWORD;\n  const closeAccount = type === dialogTypes.CLOSE_ACCOUNT;\n  const {\n    error,\n    resetError,\n    ...auth\n  } = useAuth();\n  const [form, handleFormChanged, handleFormReset] = useForm({\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    oldPassword: \"\"\n  });\n\n  const handleSubmit = async () => {\n    const fn = changeEmail ? auth.updateEmail : changePassword ? auth.updatePassword : auth.deleteAccount;\n    const response = await fn(form);\n\n    if (response.success) {\n      resetError();\n      onSubmit(response.data);\n    }\n  };\n\n  const handleCancel = () => {\n    handleFormReset();\n    resetError();\n    onCancel();\n  };\n\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    onClose: onCancel,\n    fullWidth: true,\n    keepMounted: true,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), changeEmail || closeAccount ? /*#__PURE__*/_jsxDEV(TextField, {\n        autoFocus: true,\n        fullWidth: true,\n        margin: \"normal\",\n        variant: \"outlined\",\n        id: \"email\",\n        name: \"email\",\n        type: \"email\",\n        label: \"Email Address\",\n        onChange: handleFormChanged,\n        value: form.email,\n        error: error.length > 0,\n        helperText: changeEmail ? error : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this) : null, changePassword ? /*#__PURE__*/_jsxDEV(PasswordInput, {\n        autoFocus: true,\n        id: \"oldPassword\",\n        label: \"Old Password\",\n        value: form.oldPassword,\n        onChange: handleFormChanged,\n        error: error.length > 0\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this) : null, changePassword || closeAccount ? /*#__PURE__*/_jsxDEV(PasswordInput, {\n        id: \"password\",\n        label: `${changePassword ? \"New \" : \"\"}Password`,\n        value: form.password,\n        onChange: handleFormChanged,\n        error: error.length > 0,\n        helperText: closeAccount ? error : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this) : null, changePassword ? /*#__PURE__*/_jsxDEV(PasswordInput, {\n        id: \"confirmPassword\",\n        label: \"Confirm Password\",\n        value: form.confirmPassword,\n        onChange: handleFormChanged,\n        error: error.length > 0,\n        helperText: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleCancel,\n        color: \"primary\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleSubmit,\n        color: \"primary\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AuthDialog, \"gFyfPYtkRpl6/Nk9rLpzcwADdrY=\", false, function () {\n  return [useAuth, useForm];\n});\n\n_c = AuthDialog;\nAuthDialog.propTypes = {\n  type: PropTypes.oneOf([...Object.values(dialogTypes)]),\n  title: PropTypes.string.isRequired,\n  message: PropTypes.string.isRequired,\n  open: PropTypes.bool.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired\n};\nexport default AuthDialog;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthDialog\");","map":{"version":3,"names":["React","PropTypes","Button","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","PasswordInput","useAuth","useForm","dialogTypes","CHANGE_EMAIL","CHANGE_PASSWORD","CLOSE_ACCOUNT","AuthDialog","type","title","message","open","onSubmit","onCancel","props","changeEmail","changePassword","closeAccount","error","resetError","auth","form","handleFormChanged","handleFormReset","email","password","confirmPassword","oldPassword","handleSubmit","fn","updateEmail","updatePassword","deleteAccount","response","success","data","handleCancel","length","propTypes","oneOf","Object","values","string","isRequired","bool","func"],"sources":["/Users/rohitsikrewal/Desktop/cmpe-280-podcast-app/src/components/Profile/AuthDialog.js"],"sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Button from \"@mui/material/Button\";\nimport TextField from \"@mui/material/TextField\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogContentText from \"@mui/material/DialogContentText\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\n\nimport PasswordInput from \"@/components/Auth/PasswordInput\";\nimport { useAuth, useForm } from \"@/hooks\";\n\nexport const dialogTypes = {\n  CHANGE_EMAIL: \"CHANGE_EMAIL\",\n  CHANGE_PASSWORD: \"CHANGE_PASSWORD\",\n  CLOSE_ACCOUNT: \"CLOSE_ACCOUNT\",\n};\n\nfunction AuthDialog({ type, title, message, open, onSubmit, onCancel, ...props }) {\n  const changeEmail = type === dialogTypes.CHANGE_EMAIL;\n  const changePassword = type === dialogTypes.CHANGE_PASSWORD;\n  const closeAccount = type === dialogTypes.CLOSE_ACCOUNT;\n\n  const { error, resetError, ...auth } = useAuth();\n\n  const [form, handleFormChanged, handleFormReset] = useForm({\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    oldPassword: \"\",\n  });\n\n  const handleSubmit = async () => {\n    const fn = changeEmail\n      ? auth.updateEmail\n      : changePassword\n      ? auth.updatePassword\n      : auth.deleteAccount;\n\n    const response = await fn(form);\n\n    if (response.success) {\n      resetError();\n      onSubmit(response.data);\n    }\n  };\n\n  const handleCancel = () => {\n    handleFormReset();\n    resetError();\n    onCancel();\n  };\n\n  return (\n    <Dialog open={open} onClose={onCancel} fullWidth keepMounted>\n      <DialogTitle>{title}</DialogTitle>\n      <DialogContent>\n        <DialogContentText>{message}</DialogContentText>\n\n        {changeEmail || closeAccount ? (\n          <TextField\n            autoFocus\n            fullWidth\n            margin=\"normal\"\n            variant=\"outlined\"\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            label=\"Email Address\"\n            onChange={handleFormChanged}\n            value={form.email}\n            error={error.length > 0}\n            helperText={changeEmail ? error : \"\"}\n          />\n        ) : null}\n        {changePassword ? (\n          <PasswordInput\n            autoFocus\n            id=\"oldPassword\"\n            label=\"Old Password\"\n            value={form.oldPassword}\n            onChange={handleFormChanged}\n            error={error.length > 0}\n          />\n        ) : null}\n        {changePassword || closeAccount ? (\n          <PasswordInput\n            id=\"password\"\n            label={`${changePassword ? \"New \" : \"\"}Password`}\n            value={form.password}\n            onChange={handleFormChanged}\n            error={error.length > 0}\n            helperText={closeAccount ? error : \"\"}\n          />\n        ) : null}\n        {changePassword ? (\n          <PasswordInput\n            id=\"confirmPassword\"\n            label=\"Confirm Password\"\n            value={form.confirmPassword}\n            onChange={handleFormChanged}\n            error={error.length > 0}\n            helperText={error}\n          />\n        ) : null}\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleCancel} color=\"primary\">\n          Cancel\n        </Button>\n        <Button onClick={handleSubmit} color=\"primary\">\n          Submit\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nAuthDialog.propTypes = {\n  type: PropTypes.oneOf([...Object.values(dialogTypes)]),\n  title: PropTypes.string.isRequired,\n  message: PropTypes.string.isRequired,\n  open: PropTypes.bool.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n};\n\nexport default AuthDialog;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}